<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generar pàgina per a connectar en model extern</title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
</head>
<body>
    <div class="container mt-5">
        <h1 class="mb-4">Generar pàgina per a connectar en model extern</h1>
        <div class="form-group">
            <label for="apiKeyInput">API Key:</label>
            <input type="text" class="form-control" id="apiKeyInput" placeholder="Introdueix API Key">
            <label for="promptInput">Prompt:</label>
            <input type="text" class="form-control" id="promptInput" placeholder="Introdueix prompt">
        </div>
        <button id="generateButton" class="btn btn-primary">Generar i Descarregar</button>
    </div>

    <footer class="fixed-bottom bg-light text-center py-3">
        <p class="mb-0">Pàgina creada per la Direcció General de Formació Professional per al curs d'Introducció a la IA.</p>
    </footer>
<!-- 
    Debes actuar como un especialista en inteligencia artificial que conoces profundamente el campo. La respuesta a la siguiente pregunta no debe contener formato markdown, debe ser texto plano, debes limitar la respuesta a un máximo de 100 palabras, debe ser clara y bien razonada. Debes responder en la misma lengua que se plantee que puede ser valenciano o castellano. La pregunta es:  -->




    <script>
        document.getElementById('generateButton').addEventListener('click', function() {
            const apiKey = document.getElementById('apiKeyInput').value;
            const prompt = document.getElementById('promptInput').value;
            const content = `&lt;!DOCTYPE html&gt;&lt;html lang="ca"&gt;&lt;head&gt;&lt;meta charset="UTF-8"&gt;&lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;&lt;title&gt;Utilitzant Gemini API&lt;/title&gt;&lt;link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet"&gt;&lt;script src="https://code.jquery.com/jquery-3.5.1.min.js"&gt;&lt;/script&gt;&lt;script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"&gt;&lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;div class="container mt-5"&gt;&lt;h1 class="mb-4"&gt;Fes una qüestió a la IA&lt;/h1&gt;&lt;div class="form-group"&gt;&lt;label for="questionInput"&gt;Qüestió:&lt;/label&gt;&lt;input type="text" class="form-control" id="questionInput" placeholder="Enter your question"&gt;&lt;/div&gt;&lt;button id="submitButton" class="btn btn-primary"&gt;Envia&lt;/button&gt;&lt;div class="form-group mt-4"&gt;&lt;label for="responseArea"&gt;Resposta:&lt;/label&gt;&lt;textarea class="form-control" id="responseArea" rows="10" readonly&gt;&lt;/textarea&gt;&lt;/div&gt;&lt;/div&gt;&lt;script&gt;$(document).ready(function() {$('#submitButton').click(function() {const question = $('#questionInput').val();const url = \`https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${apiKey}\`;const data = {contents: [{parts: [{ text: "${prompt}" + question }]}]};$('#responseArea').val(''); $('#submitButton').prop('disabled', true).text('Cargando...'); $.ajax({url: url,type: 'POST',contentType: 'application/json',data: JSON.stringify(data),success: function(response) {$('#responseArea').val(response.candidates[0].content.parts[0].text);},error: function(error) {console.error('Error:', error);$('#responseArea').val('Ocurrió un error. Por favor, inténtalo de nuevo.');},complete: function() {$('#submitButton').prop('disabled', false).text('Enviar');}});});});&lt;/script&gt;&lt;/body&gt;&lt;/html&gt;`;

            const blob = new Blob([content.replace(/&lt;/g, '<').replace(/&gt;/g, '>')], { type: 'text/html;charset=utf-8' });
            const link = document.createElement('a');
            link.href = URL.createObjectURL(blob);
            link.download = 'document.html';
            link.click();
        });
    </script>
</body>
</html>
